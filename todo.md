1. OK chat_loop 要保留所有历史对话，包括大模型输出，tool输出，用户输入，除非用户明确输入 /clear 指令
2. OK 改为使用json配置方式 server  不使用参数传递方式
3. 定义一些命令 ，以 /开头的
4. OK 支持多轮对话，不同的工具调用信息要集合起来，形成完整的历史对话信息，用户的输入，大模型的输出，工具的输出都要按序保留，下一次用户输入的时候需要带上这些历史信息
5. 可以配置promote，让大模型成为一个 agent
6. 没有mcp server的时候process_query函数也应该能用，只要大模型能用，没有工具不代表大模型不能用,没有工具可用传递给大模型的参数tools就不填
7.  
